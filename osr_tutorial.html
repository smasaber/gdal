<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>GDAL: OGR Projections Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GDAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="usergroup0.html"><span>Download</span></a></li>
      <li><a href="https://github.com/OSGeo/gdal/issues/"><span>Issue&#160;Tracker</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OGR Projections Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="osr_tutorial_intro"></a>
Introduction</h1>
<p>The <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a>, and <a class="el" href="classOGRCoordinateTransformation.html" title="Interface for transforming between coordinate systems. ">OGRCoordinateTransformation</a> classes provide services to represent coordinate systems (projections and datums) and to transform between them. These services are loosely modeled on the OpenGIS Coordinate Transformations specification, and use the same Well Known Text format for describing coordinate systems.</p>
<p>Some background on OpenGIS coordinate systems and services can be found in the Simple Features for COM, and Spatial Reference Systems Abstract Model documents available from the <a href="http://www.opengeospatial.org">Open Geospatial Consortium</a>. The <a href="http://geotiff.maptools.org/proj_list/">GeoTIFF Projections Transform List</a> may also be of assistance in understanding formulations of projections in WKT. The <a href="http://www.epsg.org">EPSG</a> Geodesy web page is also a useful resource.</p>
<p>You may also consult the <a href="wktproblems.html">OGC WKT Coordinate System Issues</a> page.</p>
<h1><a class="anchor" id="osr_tutorial_cs"></a>
Defining a Geographic Coordinate System</h1>
<p>Coordinate systems are encapsulated in the <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> class. There are a number of ways of initializing an <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> object to a valid coordinate system. There are two primary kinds of coordinate systems. The first is geographic (positions are measured in long/lat) and the second is projected (such as UTM - positions are measured in meters or feet).</p>
<p>A Geographic coordinate system contains information on the datum (which implies an spheroid described by a semi-major axis, and inverse flattening), prime meridian (normally Greenwich), and an angular units type which is normally degrees. The following code initializes a geographic coordinate system on supplying all this information along with a user visible name for the geographic coordinate system.</p>
<div class="fragment"><div class="line"><a class="code" href="classOGRSpatialReference.html">OGRSpatialReference</a> oSRS;</div>
<div class="line"></div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#afb2997a3a7a33cd740c716c5618ac2c9">SetGeogCS</a>( <span class="stringliteral">&quot;My geographic coordinate system&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;WGS_1984&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;My WGS84 Spheroid&quot;</span>,</div>
<div class="line">                <a class="code" href="ogr__srs__api_8h.html#a25d3c2b305ebaf55429fd5928398b3e2">SRS_WGS84_SEMIMAJOR</a>, <a class="code" href="ogr__srs__api_8h.html#ae271b20f7abd2422a387acc0af048d04">SRS_WGS84_INVFLATTENING</a>,</div>
<div class="line">                <span class="stringliteral">&quot;Greenwich&quot;</span>, 0.0,</div>
<div class="line">                <span class="stringliteral">&quot;degree&quot;</span>, <a class="code" href="ogr__srs__api_8h.html#a03ba28a48dabf66e900deeb78bd81ce5">SRS_UA_DEGREE_CONV</a> );</div>
</div><!-- fragment --><p>Of these values, the names "My geographic coordinate system", "My WGS84
Spheroid", "Greenwich" and "degree" are not keys, but are used for display to the user. However, the datum name "WGS_1984" is used as a key to identify the datum, and there are rules on what values can be used. NOTE: Prepare writeup somewhere on valid datums!</p>
<p>The <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> has built in support for a few well known coordinate systems, which include "NAD27", "NAD83", "WGS72" and "WGS84" which can be defined in a single call to SetWellKnownGeogCS().</p>
<div class="fragment"><div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a096b8dde4fd2eb475acd376060940b02">SetWellKnownGeogCS</a>( <span class="stringliteral">&quot;WGS84&quot;</span> );</div>
</div><!-- fragment --><p>Furthermore, any geographic coordinate system in the EPSG database can be set by its GCS code number if the EPSG database is available.</p>
<div class="fragment"><div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a096b8dde4fd2eb475acd376060940b02">SetWellKnownGeogCS</a>( <span class="stringliteral">&quot;EPSG:4326&quot;</span> );</div>
</div><!-- fragment --><p>For serialization, and transmission of projection definitions to other packages, the OpenGIS Well Known Text format for coordinate systems is used. An <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> can be initialized from well known text, or converted back into well known text.</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span>    *pszWKT = NULL;</div>
<div class="line"></div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a096b8dde4fd2eb475acd376060940b02">SetWellKnownGeogCS</a>( <span class="stringliteral">&quot;WGS84&quot;</span> );</div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a596b8e527d66a5054408159f0006fdac">exportToWkt</a>( &amp;pszWKT );</div>
<div class="line">printf( <span class="stringliteral">&quot;%s\n&quot;</span>, pszWKT );</div>
</div><!-- fragment --><p>gives something like:</p>
<pre>
GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,
AUTHORITY["EPSG",7030]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG",6326]],
PRIMEM["Greenwich",0,AUTHORITY["EPSG",8901]],UNIT["DMSH",0.0174532925199433,
AUTHORITY["EPSG",9108]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG",
4326]]
</pre><p>or in more readable form:</p>
<pre>
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG",7030]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG",6326]],
    PRIMEM["Greenwich",0,AUTHORITY["EPSG",8901]],
    UNIT["DMSH",0.0174532925199433,AUTHORITY["EPSG",9108]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG",4326]]
</pre><p>The <a class="el" href="classOGRSpatialReference.html#ab74cfc985bd05404a4c61d2d633a6343" title="Import from WKT string. ">OGRSpatialReference::importFromWkt()</a> method can be used to set an <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> from a WKT coordinate system definition.</p>
<h1><a class="anchor" id="osr_tutorial_proj"></a>
Defining a Projected Coordinate System</h1>
<p>A projected coordinate system (such as UTM, Lambert Conformal Conic, etc) requires and underlying geographic coordinate system as well as a definition for the projection transform used to translate between linear positions (in meters or feet) and angular long/lat positions. The following code defines a UTM zone 17 projected coordinate system with an underlying geographic coordinate system (datum) of WGS84.</p>
<div class="fragment"><div class="line"><a class="code" href="classOGRSpatialReference.html">OGRSpatialReference</a>     oSRS;</div>
<div class="line"></div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a208118581246feb29646acf2ea5d4237">SetProjCS</a>( <span class="stringliteral">&quot;UTM 17 (WGS84) in northern hemisphere.&quot;</span> );</div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a096b8dde4fd2eb475acd376060940b02">SetWellKnownGeogCS</a>( <span class="stringliteral">&quot;WGS84&quot;</span> );</div>
<div class="line">oSRS.<a class="code" href="classOGRSpatialReference.html#a0c4f6fcab663c9eb6d465787cad3833c">SetUTM</a>( 17, TRUE );</div>
</div><!-- fragment --><p>Calling SetProjCS() sets a user name for the projected coordinate system and establishes that the system is projected. The SetWellKnownGeogCS() associates a geographic coordinate system, and the SetUTM() call sets detailed projection transformation parameters. At this time the above order is important in order to create a valid definition, but in the future the object will automatically reorder the internal representation as needed to remain valid. For now <b>be careful of the order of steps defining an OGRSpatialReference!</b></p>
<p>The above definition would give a WKT version that looks something like the following. Note that the UTM 17 was expanded into the details transverse mercator definition of the UTM zone.</p>
<pre>
PROJCS["UTM 17 (WGS84) in northern hemisphere.",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG",7030]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG",6326]],
        PRIMEM["Greenwich",0,AUTHORITY["EPSG",8901]],
        UNIT["DMSH",0.0174532925199433,AUTHORITY["EPSG",9108]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG",4326]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-81],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0]]
</pre><p>There are methods for many projection methods including SetTM() (Transverse Mercator), SetLCC() (Lambert Conformal Conic), and SetMercator().</p>
<h1><a class="anchor" id="osr_tutorial_query"></a>
Querying Coordinate System</h1>
<p>Once an <a class="el" href="classOGRSpatialReference.html" title="This class represents an OpenGIS Spatial Reference System, and contains methods for converting betwee...">OGRSpatialReference</a> has been established, various information about it can be queried. It can be established if it is a projected or geographic coordinate system using the <a class="el" href="classOGRSpatialReference.html#a1186e3473d7ac2f81ec2ca5d0c4ec027" title="Check if projected coordinate system. ">OGRSpatialReference::IsProjected()</a> and <a class="el" href="classOGRSpatialReference.html#a764ba5d91530ad721d78ac629c0eaba8" title="Check if geographic coordinate system. ">OGRSpatialReference::IsGeographic()</a> methods. The <a class="el" href="classOGRSpatialReference.html#a89b57ccaa09b54707b951d0e4822ce2e" title="Get spheroid semi major axis. ">OGRSpatialReference::GetSemiMajor()</a>, <a class="el" href="classOGRSpatialReference.html#a2649ebcb99c191ef6ddf36804d129516" title="Get spheroid semi minor axis. ">OGRSpatialReference::GetSemiMinor()</a> and <a class="el" href="classOGRSpatialReference.html#aa26b093d7901cb5b32e07b15a4247d10" title="Get spheroid inverse flattening. ">OGRSpatialReference::GetInvFlattening()</a> methods can be used to get information about the spheroid. The <a class="el" href="classOGRSpatialReference.html#acc815e7bd21c1c052304368c0eefe8be" title="Fetch indicated attribute of named node. ">OGRSpatialReference::GetAttrValue()</a> method can be used to get the PROJCS, GEOGCS, DATUM, SPHEROID, and PROJECTION names strings. The <a class="el" href="classOGRSpatialReference.html#ac60d56e89dbcb515a5ee576b02474470" title="Fetch a projection parameter value. ">OGRSpatialReference::GetProjParm()</a> method can be used to get the projection parameters. The <a class="el" href="classOGRSpatialReference.html#aefbcac403652e15cfcb1d864d84a3706" title="Fetch linear projection units. ">OGRSpatialReference::GetLinearUnits()</a> method can be used to fetch the linear units type, and translation to meters.</p>
<p>The following code (from ogr_srs_proj4.cpp) demonstrates use of GetAttrValue() to get the projection, and GetProjParm() to get projection parameters. The GetAttrValue() method searches for the first "value" node associated with the named entry in the WKT text representation. The #define'ed constants for projection parameters (such as SRS_PP_CENTRAL_MERIDIAN) should be used when fetching projection parameter with GetProjParm(). The code for the Set methods of the various projections in ogrspatialreference.cpp can be consulted to find which parameters apply to which projections.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *pszProjection = poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#acc815e7bd21c1c052304368c0eefe8be">GetAttrValue</a>(<span class="stringliteral">&quot;PROJECTION&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>( pszProjection == NULL )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>( poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#a764ba5d91530ad721d78ac629c0eaba8">IsGeographic</a>() )</div>
<div class="line">        sprintf( szProj4+strlen(szProj4), <span class="stringliteral">&quot;+proj=longlat &quot;</span> );</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        sprintf( szProj4+strlen(szProj4), <span class="stringliteral">&quot;unknown &quot;</span> );</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="cpl__port_8h.html#a8eb7da27bde11ccd5bf0c204ad32fb89">EQUAL</a>(pszProjection,<a class="code" href="ogr__srs__api_8h.html#aafbaf78a2688c6b274e4fa0cd4240e72">SRS_PT_CYLINDRICAL_EQUAL_AREA</a>) )</div>
<div class="line">{</div>
<div class="line">    sprintf( szProj4+strlen(szProj4),</div>
<div class="line">       <span class="stringliteral">&quot;+proj=cea +lon_0=%.9f +lat_ts=%.9f +x_0=%.3f +y_0=%.3f &quot;</span>,</div>
<div class="line">             poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#ac60d56e89dbcb515a5ee576b02474470">GetProjParm</a>(<a class="code" href="ogr__srs__api_8h.html#a128a8f79f612202ee6f3520354cdb6fa">SRS_PP_CENTRAL_MERIDIAN</a>,0.0),</div>
<div class="line">             poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#ac60d56e89dbcb515a5ee576b02474470">GetProjParm</a>(<a class="code" href="ogr__srs__api_8h.html#af72e65eca30665d6cf7db2e39f670024">SRS_PP_STANDARD_PARALLEL_1</a>,0.0),</div>
<div class="line">             poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#ac60d56e89dbcb515a5ee576b02474470">GetProjParm</a>(<a class="code" href="ogr__srs__api_8h.html#ab16bb9bc263c42cb26d61597582d5067">SRS_PP_FALSE_EASTING</a>,0.0),</div>
<div class="line">             poSRS-&gt;<a class="code" href="classOGRSpatialReference.html#ac60d56e89dbcb515a5ee576b02474470">GetProjParm</a>(<a class="code" href="ogr__srs__api_8h.html#a68dfaa6dcc728e7d23c14ffdc4f5c600">SRS_PP_FALSE_NORTHING</a>,0.0) );</div>
<div class="line">}</div>
<div class="line">...</div>
</div><!-- fragment --><h1><a class="anchor" id="osr_tutorial_transform"></a>
Coordinate Transformation</h1>
<p>The <a class="el" href="classOGRCoordinateTransformation.html" title="Interface for transforming between coordinate systems. ">OGRCoordinateTransformation</a> class is used for translating positions between different coordinate systems. New transformation objects are created using <a class="el" href="ogr__spatialref_8h.html#aae11bd08e45cdb2e71e1d9c31f1e550f" title="Create transformation object. ">OGRCreateCoordinateTransformation()</a>, and then the <a class="el" href="classOGRCoordinateTransformation.html#a71fa55591511e8734147867fe67cc871" title="Transform points from source to destination space. ">OGRCoordinateTransformation::Transform()</a> method can be used to convert points between coordinate systems.</p>
<div class="fragment"><div class="line"><a class="code" href="classOGRSpatialReference.html">OGRSpatialReference</a> oSourceSRS, oTargetSRS;</div>
<div class="line"><a class="code" href="classOGRCoordinateTransformation.html">OGRCoordinateTransformation</a> *poCT;</div>
<div class="line"><span class="keywordtype">double</span>                  x, y;</div>
<div class="line"></div>
<div class="line">oSourceSRS.<a class="code" href="classOGRSpatialReference.html#a8a5b8c9a205eedc6b88a14aa0c219969">importFromEPSG</a>( atoi(papszArgv[i+1]) );</div>
<div class="line">oTargetSRS.<a class="code" href="classOGRSpatialReference.html#a8a5b8c9a205eedc6b88a14aa0c219969">importFromEPSG</a>( atoi(papszArgv[i+2]) );</div>
<div class="line"></div>
<div class="line">poCT = <a class="code" href="ogr__spatialref_8h.html#aae11bd08e45cdb2e71e1d9c31f1e550f">OGRCreateCoordinateTransformation</a>( &amp;oSourceSRS,</div>
<div class="line">                                          &amp;oTargetSRS );</div>
<div class="line">x = atof( papszArgv[i+3] );</div>
<div class="line">y = atof( papszArgv[i+4] );</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>( poCT == NULL || !poCT-&gt;<a class="code" href="classOGRCoordinateTransformation.html#a71fa55591511e8734147867fe67cc871">Transform</a>( 1, &amp;x, &amp;y ) )</div>
<div class="line">    printf( <span class="stringliteral">&quot;Transformation failed.\n&quot;</span> );</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    printf( <span class="stringliteral">&quot;(%f,%f) -&gt; (%f,%f)\n&quot;</span>,</div>
<div class="line">            atof( papszArgv[i+3] ),</div>
<div class="line">            atof( papszArgv[i+4] ),</div>
<div class="line">            x, y );</div>
</div><!-- fragment --><p>There are a couple of points at which transformations can fail. First, <a class="el" href="ogr__spatialref_8h.html#aae11bd08e45cdb2e71e1d9c31f1e550f" title="Create transformation object. ">OGRCreateCoordinateTransformation()</a> may fail, generally because the internals recognise that no transformation between the indicated systems can be established. This might be due to use of a projection not supported by the internal PROJ.4 library, differing datums for which no relationship is known, or one of the coordinate systems being inadequately defined. If <a class="el" href="ogr__spatialref_8h.html#aae11bd08e45cdb2e71e1d9c31f1e550f" title="Create transformation object. ">OGRCreateCoordinateTransformation()</a> fails it will return a NULL.</p>
<p>The <a class="el" href="classOGRCoordinateTransformation.html#a71fa55591511e8734147867fe67cc871" title="Transform points from source to destination space. ">OGRCoordinateTransformation::Transform()</a> method itself can also fail. This may be as a delayed result of one of the above problems, or as a result of an operation being numerically undefined for one or more of the passed in points. The Transform() function will return TRUE on success, or FALSE if any of the points fail to transform. The point array is left in an indeterminate state on error.</p>
<p>Though not shown above, the coordinate transformation service can take 3D points, and will adjust elevations for elevation differences in spheroids, and datums. At some point in the future shifts between different vertical datums may also be applied. If no Z is passed, it is assume that the point is on the geoid.</p>
<p>The following example shows how to conveniently create a lat/long coordinate system using the same geographic coordinate system as a projected coordinate system, and using that to transform between projected coordinates and lat/long.</p>
<div class="fragment"><div class="line"><a class="code" href="classOGRSpatialReference.html">OGRSpatialReference</a>    oUTM, *poLatLong;</div>
<div class="line"><a class="code" href="classOGRCoordinateTransformation.html">OGRCoordinateTransformation</a> *poTransform;</div>
<div class="line"></div>
<div class="line">oUTM.<a class="code" href="classOGRSpatialReference.html#a208118581246feb29646acf2ea5d4237">SetProjCS</a>(<span class="stringliteral">&quot;UTM 17 / WGS84&quot;</span>);</div>
<div class="line">oUTM.<a class="code" href="classOGRSpatialReference.html#a096b8dde4fd2eb475acd376060940b02">SetWellKnownGeogCS</a>( <span class="stringliteral">&quot;WGS84&quot;</span> );</div>
<div class="line">oUTM.<a class="code" href="classOGRSpatialReference.html#a0c4f6fcab663c9eb6d465787cad3833c">SetUTM</a>( 17 );</div>
<div class="line"></div>
<div class="line">poLatLong = oUTM.<a class="code" href="classOGRSpatialReference.html#a0c1e2b108255487f91ae448f5c11f67c">CloneGeogCS</a>();</div>
<div class="line"></div>
<div class="line">poTransform = <a class="code" href="ogr__spatialref_8h.html#aae11bd08e45cdb2e71e1d9c31f1e550f">OGRCreateCoordinateTransformation</a>( &amp;oUTM, poLatLong );</div>
<div class="line"><span class="keywordflow">if</span>( poTransform == NULL )</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line">if( !poTransform-&gt;<a class="code" href="classOGRCoordinateTransformation.html#a71fa55591511e8734147867fe67cc871">Transform</a>( nPoints, x, y, z ) )</div>
<div class="line">...</div>
</div><!-- fragment --><h1><a class="anchor" id="osr_tutorial_apis"></a>
Alternate Interfaces</h1>
<p>A C interface to the coordinate system services is defined in <a class="el" href="ogr__srs__api_8h.html" title="C spatial reference system services and defines. ">ogr_srs_api.h</a>, and Python bindings are available via the osr.py module. Methods are close analogs of the C++ methods but C and Python bindings are missing for some C++ methods.</p>
<h3>C Bindings</h3>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keywordtype">void</span> *<a class="code" href="ogr__api_8h.html#a23361112dba57d043fa64632348c0870">OGRSpatialReferenceH</a>;</div>
<div class="line"><span class="keyword">typedef</span> <span class="keywordtype">void</span> *<a class="code" href="ogr__api_8h.html#a069f206f0e8e54328d648c14658cbf81">OGRCoordinateTransformationH</a>;</div>
<div class="line"></div>
<div class="line">OGRSpatialReferenceH <a class="code" href="ogr__srs__api_8h.html#a80d2790f618a9800a126e736afb1198e">OSRNewSpatialReference</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * );</div>
<div class="line"><span class="keywordtype">void</span>    <a class="code" href="ogr__srs__api_8h.html#aa1485e7c17fb7edc15a0dfda63f77333">OSRDestroySpatialReference</a>( OGRSpatialReferenceH );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#a836d17c587f924446f3734f600758c6d">OSRReference</a>( OGRSpatialReferenceH );</div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#aae579eb4bdb653ead302a2850921ac77">OSRDereference</a>( OGRSpatialReferenceH );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a02b89339400e5c5df84e535d54865ea0">OSRImportFromEPSG</a>( OGRSpatialReferenceH, <span class="keywordtype">int</span> );</div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a37a167850021c64dfec606e24a1c1e71">OSRImportFromWkt</a>( OGRSpatialReferenceH, <span class="keywordtype">char</span> ** );</div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#aa7dae0f3fac7ee553771d33c020ec86b">OSRExportToWkt</a>( OGRSpatialReferenceH, <span class="keywordtype">char</span> ** );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a46f906871cc7e03eb5c066433c0b31e9">OSRSetAttrValue</a>( OGRSpatialReferenceH hSRS, <span class="keyword">const</span> <span class="keywordtype">char</span> * pszNodePath,</div>
<div class="line">                         <span class="keyword">const</span> <span class="keywordtype">char</span> * pszNewNodeValue );</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ogr__srs__api_8h.html#a22dd5ca9a242959a1cc8cbe1e7dc8b9c">OSRGetAttrValue</a>( OGRSpatialReferenceH hSRS,</div>
<div class="line">                             <span class="keyword">const</span> <span class="keywordtype">char</span> * pszName, <span class="keywordtype">int</span> iChild);</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#acc2efa6fe8385be92cd900a795332809">OSRSetLinearUnits</a>( OGRSpatialReferenceH, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">double</span> );</div>
<div class="line"><span class="keywordtype">double</span>  <a class="code" href="ogr__srs__api_8h.html#a4ac8ada088020302ac565ebe00378ab9">OSRGetLinearUnits</a>( OGRSpatialReferenceH, <span class="keywordtype">char</span> ** );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#ae1f16b6ec2c99eb83352617c0082567d">OSRIsGeographic</a>( OGRSpatialReferenceH );</div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#a7242007d0275ba5b0e2852206f31ec57">OSRIsProjected</a>( OGRSpatialReferenceH );</div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#a8dc40ce571af8458fcb341e59a609ec6">OSRIsSameGeogCS</a>( OGRSpatialReferenceH, OGRSpatialReferenceH );</div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#a1ed028fcf261df10fabf7369213c4fbf">OSRIsSame</a>( OGRSpatialReferenceH, OGRSpatialReferenceH );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a7b2a27d374690edb672a15fba6299102">OSRSetProjCS</a>( OGRSpatialReferenceH hSRS, <span class="keyword">const</span> <span class="keywordtype">char</span> * pszName );</div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a2384a6dfde010f936aa7890c68cc7790">OSRSetWellKnownGeogCS</a>( OGRSpatialReferenceH hSRS,</div>
<div class="line">                               <span class="keyword">const</span> <span class="keywordtype">char</span> * pszName );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a1ffa26c69dd884be497a71e3fb961e1c">OSRSetGeogCS</a>( OGRSpatialReferenceH hSRS,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> * pszGeogName,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> * pszDatumName,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> * pszEllipsoidName,</div>
<div class="line">                      <span class="keywordtype">double</span> dfSemiMajor, <span class="keywordtype">double</span> dfInvFlattening,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> * pszPMName ,</div>
<div class="line">                      <span class="keywordtype">double</span> dfPMOffset ,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> * pszUnits,</div>
<div class="line">                      <span class="keywordtype">double</span> dfConvertToRadians );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">double</span>  <a class="code" href="ogr__srs__api_8h.html#aa7f8b84bb6d99e04f362ae1b2590ca33">OSRGetSemiMajor</a>( OGRSpatialReferenceH, <a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a> * );</div>
<div class="line"><span class="keywordtype">double</span>  <a class="code" href="ogr__srs__api_8h.html#a432e4d2fb6ac0bff03d9e0777cebe258">OSRGetSemiMinor</a>( OGRSpatialReferenceH, <a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a> * );</div>
<div class="line"><span class="keywordtype">double</span>  <a class="code" href="ogr__srs__api_8h.html#a79746a1da88d9a7e41557df82165c08a">OSRGetInvFlattening</a>( OGRSpatialReferenceH, <a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a> * );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#aca458410eee98928c4a245cdef242f6e">OSRSetAuthority</a>( OGRSpatialReferenceH hSRS,</div>
<div class="line">                         <span class="keyword">const</span> <span class="keywordtype">char</span> * pszTargetKey,</div>
<div class="line">                         <span class="keyword">const</span> <span class="keywordtype">char</span> * pszAuthority,</div>
<div class="line">                         <span class="keywordtype">int</span> nCode );</div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#a4d5e808bb57731e36da56626f48d1626">OSRSetProjParm</a>( OGRSpatialReferenceH, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">double</span> );</div>
<div class="line"><span class="keywordtype">double</span>  <a class="code" href="ogr__srs__api_8h.html#aee052050fbdf32fb5a1a0bfa9cad9bfc">OSRGetProjParm</a>( OGRSpatialReferenceH hSRS,</div>
<div class="line">                        <span class="keyword">const</span> <span class="keywordtype">char</span> * pszParmName,</div>
<div class="line">                        <span class="keywordtype">double</span> dfDefault,</div>
<div class="line">                        <a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a> * );</div>
<div class="line"></div>
<div class="line"><a class="code" href="ogr__core_8h.html#abd3e8d61c1e766992bdc71f846d56f65">OGRErr</a>  <a class="code" href="ogr__srs__api_8h.html#ad176f04d7b43e91e8aaf78d6f94082ab">OSRSetUTM</a>( OGRSpatialReferenceH hSRS, <span class="keywordtype">int</span> nZone, <span class="keywordtype">int</span> bNorth );</div>
<div class="line"><span class="keywordtype">int</span>     <a class="code" href="ogr__srs__api_8h.html#ad21364295012631454ff6bdbfd8cd48e">OSRGetUTMZone</a>( OGRSpatialReferenceH hSRS, <span class="keywordtype">int</span> *pbNorth );</div>
<div class="line"></div>
<div class="line">OGRCoordinateTransformationH</div>
<div class="line"><a class="code" href="ogr__srs__api_8h.html#ad5dcfadd510aa2a3720ffd544841b85a">OCTNewCoordinateTransformation</a>( OGRSpatialReferenceH hSourceSRS,</div>
<div class="line">                                OGRSpatialReferenceH hTargetSRS );</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="ogr__srs__api_8h.html#a3cb8a7c62b5228322bf4ae2550eaf364">OCTDestroyCoordinateTransformation</a>( OGRCoordinateTransformationH );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="ogr__srs__api_8h.html#a54ec34fce2e8e84201feba5f89993d4a">OCTTransform</a>( OGRCoordinateTransformationH hCT,</div>
<div class="line">                  <span class="keywordtype">int</span> nCount, <span class="keywordtype">double</span> *x, <span class="keywordtype">double</span> *y, <span class="keywordtype">double</span> *z );</div>
</div><!-- fragment --><h3>Python Bindings</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>osr.SpatialReference</div>
<div class="line">    def __init__(self,obj=None):</div>
<div class="line">    def ImportFromWkt( <span class="keyword">self</span>, wkt ):</div>
<div class="line">    def ExportToWkt(self):</div>
<div class="line">    def ImportFromEPSG(self,code):</div>
<div class="line">    def IsGeographic(self):</div>
<div class="line">    def IsProjected(self):</div>
<div class="line">    def GetAttrValue(self, name, child = 0):</div>
<div class="line">    def SetAttrValue(self, name, value):</div>
<div class="line">    def SetWellKnownGeogCS(self, name):</div>
<div class="line">    def SetProjCS(self, name = <span class="stringliteral">&quot;unnamed&quot;</span> ):</div>
<div class="line">    def IsSameGeogCS(self, other):</div>
<div class="line">    def IsSame(self, other):</div>
<div class="line">    def SetLinearUnits(self, units_name, to_meters ):</div>
<div class="line">    def SetUTM(self, zone, is_north = 1):</div>
<div class="line"></div>
<div class="line">class CoordinateTransformation:</div>
<div class="line">    def __init__(self,source,target):</div>
<div class="line">    def TransformPoint(self, x, y, z = 0):</div>
<div class="line">    def TransformPoints(self, points):</div>
</div><!-- fragment --><h1><a class="anchor" id="osr_tutorial_impl"></a>
Internal Implementation</h1>
<p>The <a class="el" href="classOGRCoordinateTransformation.html" title="Interface for transforming between coordinate systems. ">OGRCoordinateTransformation</a> service is implemented on top of the <a href="http://www.remotesensing.org/proj">PROJ.4</a> library originally written by Gerald Evenden of the USGS. </p>
</div></div><!-- contents -->
<hr>
Generated for GDAL by
<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.8.
</body>
</html>
